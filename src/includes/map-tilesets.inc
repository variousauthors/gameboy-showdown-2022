IF !DEF(MAP_TILESETS_INC)
MAP_TILESETS_INC = 1

Section "MapTilesets", ROM0

PASSABLE EQU %00000000
UNPASSABLE EQU %00000001
SAFE EQU %00000010

BGP0 EQU %00000000
BGP1 EQU %01000000
BGP2 EQU %10000000
BGP3 EQU %11000000

EMPTY_TILE EQU $00
FOREST_TILE EQU $01
MOUNTAIN_TILE EQU $02
SHALLOW_WATER_TILE EQU $03
BRIDGE_TILE EQU $04
GRASS_TILE EQU $05
HILLS_TILE EQU $06
CAVE_TILE EQU $07
VILLAGE_TILE EQU $08
STONE_WALL_TILE EQU $09
FLOOR_TILE EQU $0A
STAIRS_DOWN_TILE EQU $0B
STAIRS_UP_TILE EQU $0C
SWAMP_TILE EQU $0D
TOWER_TILE EQU $0E
PLAYER_SPRITE EQU $0F
PLAYER_SPRITE_2 EQU $10
DESERT_TILE EQU $11
CACTUS_TILE EQU $12
DEEP_WATER_TILE EQU $13

BOAT_TILE EQU $21
TREE_TILE EQU $22
CHEST_TILE EQU $23

OverworldTileset:
  db EMPTY_TILE, FOREST_TILE, MOUNTAIN_TILE, DEEP_WATER_TILE, SHALLOW_WATER_TILE, BRIDGE_TILE, GRASS_TILE, HILLS_TILE
  db VILLAGE_TILE, CAVE_TILE, TOWER_TILE, STONE_WALL_TILE, BOAT_TILE, CHEST_TILE, STAIRS_UP_TILE, SWAMP_TILE

OverworldTilesetAttributes:
  db PASSABLE, PASSABLE | BGP2, UNPASSABLE, UNPASSABLE | SAFE, UNPASSABLE | BGP1 | SAFE, PASSABLE | BGP1 | SAFE, PASSABLE | BGP2, PASSABLE
  db PASSABLE | SAFE, PASSABLE, PASSABLE | SAFE, PASSABLE, PASSABLE | SAFE | BGP1, PASSABLE, PASSABLE | SAFE, PASSABLE

/** just like overworld but only shallow water tile is passable 
 * 
 * grass has to be handled differently. When getting onto a boat
 * we have the boat and the player on screen, the player moves onto
 * the boat, skipping the normal collision for ocean... then the player
 * disappears. But when getting off the boat it is different: we need to
 * let the boat attempt to move onto grass, so it must be passable, then
 * we interrupt the move with the state change and display the player */
OverworldOceanTileset:
  db EMPTY_TILE, FOREST_TILE, MOUNTAIN_TILE, DEEP_WATER_TILE, SHALLOW_WATER_TILE, BRIDGE_TILE, GRASS_TILE, HILLS_TILE
  db VILLAGE_TILE, CAVE_TILE, TOWER_TILE, STONE_WALL_TILE, BOAT_TILE, CHEST_TILE, STAIRS_UP_TILE, SWAMP_TILE

OverworldOceanTilesetAttributes:
  db PASSABLE, UNPASSABLE | BGP2, UNPASSABLE, UNPASSABLE | SAFE, PASSABLE | SAFE | BGP1, UNPASSABLE | BGP1 | SAFE, PASSABLE | BGP2, UNPASSABLE
  db UNPASSABLE | SAFE, UNPASSABLE, UNPASSABLE | SAFE, UNPASSABLE, UNPASSABLE | SAFE | BGP1, UNPASSABLE, UNPASSABLE | SAFE, UNPASSABLE

/*
  for debugging
  db PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE
  db PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE, PASSABLE | SAFE
*/

/** this tileset is just like overworld but it has
 * bricks and stairs and such, it was used for
 * the underworld, but also villages and such */
InteriorTileset:
  db EMPTY_TILE, TREE_TILE, MOUNTAIN_TILE, STONE_WALL_TILE, SHALLOW_WATER_TILE, BRIDGE_TILE, GRASS_TILE, HILLS_TILE
  db FALLEN_HERO, CAVE_TILE, TOWER_TILE, STONE_WALL_TILE, FLOOR_TILE, STAIRS_DOWN_TILE, STAIRS_UP_TILE, SWAMP_TILE

InteriorTilesetAttributes:
  db PASSABLE, PASSABLE | BGP2, UNPASSABLE, PASSABLE, UNPASSABLE | BGP1, PASSABLE | BGP1 | SAFE, PASSABLE | BGP2, PASSABLE
  db PASSABLE | SAFE, PASSABLE, PASSABLE | SAFE, UNPASSABLE, PASSABLE | BGP1, PASSABLE, PASSABLE | SAFE, PASSABLE

ENDC